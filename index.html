<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" href="img/dog.png" type="image/png">

  <title>ğŸ• Zelda æ´¾ä»¶ä¸­</title>
  <style>
    /* ä¿ç•™ç°æœ‰çš„æ ·å¼ */
    html, body {
      margin: 0;
      padding: 0;
      height: 100vh;
      font-family: 'Arial', sans-serif;
      background-color: #fefae0;
      background-image: url("img/background.jpg");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      overflow: hidden;
    }

    .scene {
      width: 100%;
      height: 100%;
      position: relative;
    }

    .zelda-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      z-index: 5;
    }

    .zelda-container img {
      width: 300px;
      max-width: 80vw;
      cursor: pointer;
    }

    .zelda-text {
      font-size: 1.6rem;
      color: #4d4d4d;
      margin-bottom: 1rem;
      text-align: center;
      animation: floatBlink 1.8s infinite;
      z-index: 10;
      max-width: 90vw;
      line-height: 1.5;
      word-break: break-word;
    }

    .emoji-line {
      display: block;
      margin-top: 0.4rem;
    }

    .dog {
      position: absolute;
      bottom: 5vh;
      width: 25vw;
      min-width: 220px;
      max-width: 400px;
      left: -30vw;
      transform: translateX(-100%);
      animation: moveDog 3s ease-out forwards;
      z-index: 1;
      display: none;
    }

    .gift {
      position: absolute;
      bottom: 30vh;
      width: 34vw;
      min-width: 320px;
      max-width: 480px;
      left: 50%;
      transform: translateX(-50%);
      animation: moveGift 3s ease-out forwards;
      z-index: 2;
      transition: transform 0.3s;
      display: none;
    }

    .gift:hover {
      transform: scale(1.05) rotate(-2deg);
    }

    .tap-text {
      position: absolute;
      top: 15vh;  /* å¯æ‰‹åŠ¨å¾®è°ƒ */
      left: 50%;
      transform: translateX(-50%);
      font-size: 1.6rem;
      color: #4d4d4d;
      animation: blink 1.2s infinite;
      z-index: 4;
      text-align: center;
      display: none;
    }

    @media (max-width: 600px) {
      .tap-text {
        top: 9vh;         /* æ‰‹æœºä¸Šå†å¾€ä¸Šç§»åŠ¨ */
        font-size: 1.4rem; /* å­—ä½“ç•¥å°æ›´é€‚é… */
      }
    }

    @keyframes moveDog {
      0% {
        left: -30vw;
        transform: translateX(0);
      }
      100% {
        left: 50%;
        transform: translateX(-100%);
      }
    }

    @keyframes moveGift {
      0% {
        left: -40vw;
        transform: translateX(0);
      }
      100% {
        left: 50%;
        transform: translateX(-50%);
      }
    }

    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0; }
    }

    @keyframes popUpGift {
      0% {
        transform: scale(0.2) translate(-50%, 0);
        opacity: 0;
      }
      60% {
        transform: scale(1.1) translate(-50%, 0);
        opacity: 1;
      }
      100% {
        transform: scale(1) translate(-50%, 0);
      }
    }

    .gift.pop {
      animation: popUpGift 0.8s ease-out forwards;
    }

    .balloon {
      position: absolute;
      bottom: -100px;
      width: 40px;
      height: 60px;
      border-radius: 50%;
      opacity: 0.9;
      animation: floatBalloon 10s linear infinite;
      box-shadow: inset -3px -6px rgba(0,0,0,0.1);
      display: none; /* åˆå§‹ä¸æ˜¾ç¤º */
    }

    .balloon::after {
      content: "";
      position: absolute;
      bottom: -20px;
      left: 50%;
      width: 2px;
      height: 20px;
      background: #aaa;
      transform: translateX(-50%);
    }

    .balloon.red     { background: radial-gradient(circle at 30% 30%, #ff7f7f, #cc0000); left: 10%; animation-delay: 0s; }
    .balloon.blue    { background: radial-gradient(circle at 30% 30%, #80dfff, #0099cc); left: 25%; animation-delay: 2s; }
    .balloon.yellow  { background: radial-gradient(circle at 30% 30%, #fff699, #ffcc00); left: 40%; animation-delay: 4s; }
    .balloon.green   { background: radial-gradient(circle at 30% 30%, #b0ffb0, #33cc33); left: 55%; animation-delay: 1s; }
    .balloon.purple  { background: radial-gradient(circle at 30% 30%, #e6ccff, #9933ff); left: 70%; animation-delay: 3s; }
    .balloon.pink    { background: radial-gradient(circle at 30% 30%, #ffcce5, #ff3399); left: 85%; animation-delay: 5s; }

    @keyframes floatBalloon {
      0% {
        transform: translateY(0) translateX(0);
        opacity: 0;
      }
      10% { opacity: 1; }
      100% {
        transform: translateY(-120vh) translateX(20px);
        opacity: 0;
      }
    }

    @keyframes floatBlink {
      0% {
        transform: translateY(0);
        opacity: 1;
      }
      50% {
        transform: translateY(-8px);
        opacity: 0.4;
      }
      100% {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .second-prompt {
      position: absolute;
      top: 17vh; /* æ¡Œé¢ç«¯é»˜è®¤ */
      left: 50%;
      transform: translateX(-50%);
      background: rgba(255, 255, 255, 0.96);
      padding: 1rem 1.5rem;
      border-radius: 16px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
      text-align: center;
      font-size: 1.2rem;
      line-height: 1.6;
      color: #333;
      z-index: 20;
      animation: fadeIn 0.6s ease forwards;
    }

    /* âœ… é’ˆå¯¹æ‰‹æœºå±å¹•çš„é«˜åº¦é€‚é… */
    @media (max-width: 600px) {
      .second-prompt {
        top: 1vh;  /* âœ… åŸæ¥æ˜¯ 16vhï¼Œç°åœ¨æå‡åˆ° 10vh æ›´é ä¸Š */
        font-size: 1.1rem;
        padding: 0.8rem 1rem;
      }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translate(-50%, -20px); }
      to   { opacity: 1; transform: translate(-50%, 0); }
    }

    .emphasis {
      font-size: 1.3em;  /* æ”¾å¤§ */
      font-weight: bold; /* åŠ ç²— */
      color: #222;       /* ç¨å¾®æ·±ä¸€ç‚¹è®©å®ƒæ›´é†’ç›® */
    }

    .click-again-text {
      position: absolute;
      top: 25vh;
      left: 50%;
      transform: translateX(-50%);
      font-size: 1.6rem;
      color: #444;
      z-index: 20;
      text-align: center;
      margin-top: 0.6rem;
      animation: blink 1.2s infinite;
    }

    /* âœ… æ‰‹æœºç«¯ä½ç½®å‘ä¸Šå¯¹é½ç¬¬ä¸€æ¬¡æç¤º */
    @media (max-width: 600px) {
      .click-again-text {
        top: 8vh;         /* å‘ä¸‹åç§»ä¸€äº› */
        font-size: 1.3rem;   /* å­—ä½“å˜å° */
        line-height: 1.4;
      }
    }

    @media (max-width: 600px) {
      .zelda-text {
        font-size: 1.3rem; /* æ›´é€‚é…æ‰‹æœº */
      }
    }
  </style>
</head>
<body>

<div class="scene">
  <!-- æ°”çƒ -->
  <div class="balloon red"></div>
  <div class="balloon blue"></div>
  <div class="balloon yellow"></div>
  <div class="balloon green"></div>
  <div class="balloon purple"></div>
  <div class="balloon pink"></div>

  <!-- Zelda åˆå§‹çŠ¶æ€ -->
  <div class="zelda-container">
    <div class="zelda-text">
      Zelda æœ‰ç§˜å¯†è¦å‘Šè¯‰ä½ ï½<br />
      <span class="emoji-line">ğŸ‘‡å¿«ç‚¹æˆ‘ï¼ğŸ‘‡</span>
    </div>
    <img id="zelda" src="img/zelda.png" alt="Zelda">
  </div>

  <!-- ç¬¬äºŒæ¬¡æç¤ºæ¡† -->
  <div class="second-prompt" id="secondPrompt" style="display: none;">
    <p>ğŸ¤« å˜˜ï½å‡†å¤‡å¥½äº†å—ï¼Ÿ</p>
    <p>Zelda æœ‰å°ç§˜å¯†è¦æ‚„æ‚„å‘Šè¯‰ä½ å“¦ï¼Œè®°å¾— <span class="emphasis" id="volumeTip">æ‰“å¼€å£°éŸ³</span>ï¼</p>
  </div>

  <!-- å†æ¬¡ç‚¹å‡»æç¤º -->
  <div id="clickAgain" class="click-again-text" style="display: none;">
    å‡†å¤‡å¥½å<br>
    ğŸ‘‡è¯·å†ç‚¹ä¸€ä¸‹ Zelda ğŸ‘‡
  </div>

  <!-- æ’­æ”¾è§†é¢‘ -->
  <video id="zelda-video" style="display:none; position:absolute; top:50%; left:50%; transform:translate(-50%, -50%); width:300px; z-index:6;" autoplay muted playsinline preload="auto">
    <source src="img/dog.mp4" type="video/mp4">
  </video>

  <!-- æ’­æ”¾éŸ³ä¹ -->
  <audio id="zelda-music" src="music/ezuojv.MP3" preload="auto"></audio>
  <!-- <audio id="zelda-music" src="music/speicalpeople.MP3" preload="auto"></audio> -->

  <!-- åç»­åŠ¨ç”»å†…å®¹ -->
  <a href="surprise.html">
    <img src="img/box.png" class="gift" id="gift-box" alt="gift box" style="display:none;">
  </a>
  <div class="tap-text" id="tap-tip">ğŸ‘‡ç‚¹å‡»ğŸæ‰“å¼€ğŸ‘‡</div>
</div>

<script>
  let clickCount = 0;
  let promptShown = false;
  const zelda = document.getElementById('zelda');
  const zeldaText = document.querySelector('.zelda-text');
  const secondPrompt = document.getElementById('secondPrompt');
  const clickAgain = document.getElementById('clickAgain');
  const video = document.getElementById('zelda-video');
  const giftBox = document.getElementById('gift-box');
  const tapTip = document.getElementById('tap-tip');
  const music = document.getElementById('zelda-music');  // éŸ³ä¹å…ƒç´ 

  zelda.addEventListener('click', () => {
    clickCount++;

    if (clickCount === 1) {
      secondPrompt.style.display = 'block';
      zeldaText.style.display = 'none';

      setTimeout(() => {
        secondPrompt.style.display = 'none';
        clickAgain.style.display = 'block';
        promptShown = true;
      }, 5000);
    } 
    else if (clickCount === 2 && !promptShown) {
      clickCount--; 
      return;
    }
    else if (clickCount === 2 && promptShown) {
      clickAgain.style.display = 'none';
      zelda.style.display = 'none';
      video.style.display = 'block';
      video.currentTime = 0;
      video.play();
      music.play();  // æ’­æ”¾éŸ³ä¹

      // æ’­æ”¾ 5 ç§’åæš‚åœå¹¶æ˜¾ç¤ºç¤¼ç›’
      setTimeout(() => {
        video.pause();
        video.style.display = 'none';

        giftBox.style.display = 'block';
        giftBox.classList.add('pop');

        tapTip.style.display = 'block';

        document.querySelectorAll('.balloon').forEach(balloon => {
          balloon.style.display = 'block';
        });
      }, 5000);
    }
  });
</script>

</body>
</html>
